<!DOCTYPE html>
<html>
<head>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4" crossorigin="anonymous"></script>

    <link href="/static/styles.css" rel="stylesheet">
    <meta name="viewport" content="initial-scale=1, width=device-width">
    <title>AmiAmi Figures Scraper</title>
</head>
<body class="centered">
    <header class="title">AmiAmi Figures</header>
    <br>
    <main>
        <img alt="amiami" src="../static/amico.jpg" style = "width:400px;height:400px;">
        <p><br></p>
        <div class="container mt5 border border-warning border-3">
            <h1>Search</h1>
            <p></p>
            <form action="/search" method="post" enctype="multipart/form-data">
                <div class="mb-3 sameline">
                    <div class="btn-group" role="group" aria-label="mode">
                        <input type="radio" class="btn-check" name="fig" id="f" value="f" autocomplete="off" checked>
                        <label class="btn btn-outline-warning" for="f">Figures</label>
                        
                        <input type="radio" class="btn-check" name="fig" id="bf" value="bf" autocomplete="off">
                        <label class="btn btn-outline-warning" for="bf">Bishoujo Figures</label>
                    </div>
                    <input autocomplete="off" class="form-control wider-search-bar" name="name" placeholder="Search..." type="text" required>
                </div>
                <div class="mb-3 sameline">
                    <div class="mb-3 form-check form-switch">
                        <input class="form-check-input" type="checkbox" role="switch" checked name="available" id="available" value="Available">
                        <label class="form-check-label" for="available">Available</label>
                    </div>
                    <div class="mb-3">
                        <input type="checkbox" name="pre-order" checked id="pre-order" value="Pre-order" class="dependent-checkbox">
                        <label for="pre-order">Pre-order</label>
                    </div>
                    <div class="mb-3">
                        <input type="checkbox" name="back-order" checked id="back-order" value="Back-order" class="dependent-checkbox">
                        <label for="back-order">Back-order</label>
                    </div>
                    <div class="mb-3">
                        <input type="checkbox" name="new" checked id="new" value="New" class="dependent-checkbox">
                        <label for="new">New</label>
                    </div>
                    <div class="mb-3">
                        <input type="checkbox" name="pre-owned" checked id="pre-owned" value="Pre-owned" class="dependent-checkbox">
                        <label for="pre-owned">Pre-owned</label>
                    </div> 
                </div>
                <div class="sameline">
                    <div class="mb-3">
                        <input type="checkbox" name="discount" id="discount" value="Discount">
                        <label for="discount">Discount</label>
                    </div>
                </div>
                <div class="mb-3 d-flex justify-content-center">
                    <select class="form-select select-width" id="sort-by" name="sort-by">
                        <option selected disabled>Sort By</option>
                        <option value="recently-updated">Recently Updated</option>
                        <option value="release-date">Release Date</option>
                        <option value="name-asc">Name (asc)</option>
                        <option value="name-dsc">Name (dsc)</option>
                        <option value="price-asc">Price (asc)</option>
                        <option value="price-dsc">Price (dsc)</option>
                        <option value="discount-percent">Discount Percent</option>
                    </select>
                </div>
                <div class="mb-3 sameline">
                    <div>
                        <label for="min-price" class="form-label">Minimum Price (JPY)</label>
                        <input type="number" id="min-price" name="min-price" class="form-control" placeholder="Min Price" min="0" step="1">
                    </div>
                    <div>
                        <label for="max-price" class="form-label">Maximum Price (JPY)</label>
                        <input type="number" id="max-price" name="max-price" class="form-control" placeholder="Max Price" min="0" step="1">
                    </div>
                </div>           
                <button class="btn btn-warning" type="submit">Search</button>
            </form>
        </div>
        <p><br></p>
        <div class="mb-3">
            <form action="/big_deals" method="post" enctype="multipart/form-data">
                <input type="image" src="../static/amico_deals.png" alt="Big Deals" style="width: 404px; height: 240;">
            </form>
        </div> 
    </main>
</body>

<script>
    const availableCheck = document.getElementById("available");
    const dependentChecks = document.querySelectorAll(".dependent-checkbox");

    availableCheck.addEventListener("change", function () {
        const isChecked = this.checked;
        dependentChecks.forEach(checkbox => {
            checkbox.checked = isChecked;
        });
    });

    dependentChecks.forEach(checkbox => {
        checkbox.addEventListener("change", function () {
            const allChecked = Array.from(dependentChecks).every(cb => cb.checked);
            availableCheck.checked = allChecked;
        });
    });
</script>

</html>